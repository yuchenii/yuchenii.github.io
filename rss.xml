<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="https://blog.yuchen.tech/rss.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <atom:link href="https://blog.yuchen.tech/rss.xml" rel="self" type="application/rss+xml"/>
    <title>雨辰的博客 | 烟雨辰</title>
    <link>https://blog.yuchen.tech/</link>
    <description>雨辰的博客</description>
    <language>zh-CN</language>
    <pubDate>Tue, 26 Nov 2024 16:41:44 GMT</pubDate>
    <lastBuildDate>Tue, 26 Nov 2024 16:41:44 GMT</lastBuildDate>
    <generator>vuepress-plugin-feed2</generator>
    <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
    <category>Node</category>
    <category>JS</category>
    <category>Nginx</category>
    <category>Vue</category>
    <category>Git</category>
    <category>Snippets</category>
    <item>
      <title>Follow 认证</title>
      <link>https://blog.yuchen.tech/posts/follow.html</link>
      <guid>https://blog.yuchen.tech/posts/follow.html</guid>
      <source url="https://blog.yuchen.tech/rss.xml">Follow 认证</source>
      <description>This message is used to verify that this feed (feedId:84262672694498304) belongs to me (userId:58880821944787968). Join me in enjoying the next generation information browser https://follow.is.</description>
      <pubDate>Wed, 27 Nov 2024 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>This message is used to verify that this feed (feedId:84262672694498304) belongs to me (userId:58880821944787968). Join me in enjoying the next generation information browser <a href="https://follow.is" target="_blank" rel="noopener noreferrer">https://follow.is</a>.</p>
]]></content:encoded>
    </item>
    <item>
      <title>pnpm patch 修补第三方依赖</title>
      <link>https://blog.yuchen.tech/posts/pnpm-patch.html</link>
      <guid>https://blog.yuchen.tech/posts/pnpm-patch.html</guid>
      <source url="https://blog.yuchen.tech/rss.xml">pnpm patch 修补第三方依赖</source>
      <description>pnpm patch 修补第三方依赖 我们开发过程中常常会遇到第三方依赖有 bug 的情况，这时我们可以使用 pnpm patch 来打补丁修复。 pnpm patch 比如，在使用 element plus 时，发现了一个 bug。首先我们需要知道正在使用的 element plus 版本，这里以 2.3.4 为例, 然后使用如下命令 pnpm patch element-plus@2.3.4</description>
      <category>Node</category>
      <pubDate>Sun, 21 Jan 2024 16:15:24 GMT</pubDate>
      <content:encoded><![CDATA[<h1> pnpm patch 修补第三方依赖</h1>
<p>我们开发过程中常常会遇到第三方依赖有 bug 的情况，这时我们可以使用 pnpm patch 来打补丁修复。</p>
<h2> pnpm patch</h2>
<p>比如，在使用 element plus 时，发现了一个 bug。首先我们需要知道正在使用的 element plus 版本，这里以 2.3.4 为例, 然后使用如下命令</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这时会出现一个临时目录，该目录可以通过 <code>--edit-dir</code> 来指定。</p>
<figure><figcaption></figcaption></figure>
<h2> pnpm patch-commit</h2>
<p>然后可以在这个目录下进行修改，修改完成后使用 <code>pnpm patch-commit xxx</code> 来提交修改内容， <code>xxx</code> 为<code>pnpm patch</code>命令生成的临时目录。</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>之后会在项目根目录下生成一个patches文件夹，里面是生成的patch文件。</p>
<figure><figcaption></figcaption></figure>
<p>同时会在<code>package.json</code>中添加一条记录</p>
<div class="language-json line-numbers-mode" data-ext="json"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> pnpm patch-remove</h2>
<p>如果作者修复了这个bug, 可以使用 <code>pnpm patch-remove</code> 来撤销修补。</p>
<blockquote>
<p>pnpm patch-remove 需要 pnpm 版本 &gt;= 8.5.0.</p>
</blockquote>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这时会删除patches文件夹下对应的patch文件和<code>package.json</code>中对应的记录。</p>
<h2> npm&amp;yarn</h2>
<ul>
<li>npm 可以使用 <code>patch-package</code> 包</li>
<li>yarn 可以使用 <code>yarn patch</code> 命令</li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>IntersectionObserver</title>
      <link>https://blog.yuchen.tech/posts/intersection-observer.html</link>
      <guid>https://blog.yuchen.tech/posts/intersection-observer.html</guid>
      <source url="https://blog.yuchen.tech/rss.xml">IntersectionObserver</source>
      <description>IntersectionObserver IntersectionObserver 提供了一种异步监听目标元素是否出现在视口的方法，它可以用于判断元素是否可见，从而执行相应的操作。 基本用法 创建 IntersectionObserver 对象 要使用 IntersectionObserver，首先需要创建一个 IntersectionObserver 对象，然后使用该对象来监听目标元素。当目标元素出现在视口或者达到一定阈值时，会触发回调函数，从而执行相应的操作。 const observer = new IntersectionObserver(callback, options);</description>
      <category>JS</category>
      <pubDate>Mon, 15 Jan 2024 14:39:11 GMT</pubDate>
      <content:encoded><![CDATA[<h1> IntersectionObserver</h1>
<p>IntersectionObserver 提供了一种异步监听目标元素是否出现在视口的方法，它可以用于判断元素是否可见，从而执行相应的操作。</p>
<h2> 基本用法</h2>
<h3> 创建 IntersectionObserver 对象</h3>
<p>要使用 IntersectionObserver，首先需要创建一个 IntersectionObserver 对象，然后使用该对象来监听目标元素。当目标元素出现在视口或者达到一定阈值时，会触发回调函数，从而执行相应的操作。</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4> callback 回调函数</h4>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>entries：一个包含了一组 IntersectionObserverEntry 对象的数组，每个对象代表了一个交叉的目标元素。</li>
<li>observer：IntersectionObserver 对象。</li>
</ul>
<p>IntersectionObserverEntry 对象包含了以下属性：</p>
<ul>
<li>time：可见性变化的时间，是一个高精度时间戳，单位为毫秒。</li>
<li>target：可见性变化的目标元素。</li>
<li>intersectionRatio：可见性变化的比例。</li>
<li>intersectionRect：目标元素的可见矩形区域。</li>
<li>boundingClientRect：目标元素的边界矩形区域。</li>
<li>rootBounds：可见性变化的根元素的边界矩形区域。</li>
<li>isIntersecting：可见性变化的目标元素是否与视窗交叉。</li>
</ul>
<h4> options 选项</h4>
<p>IntersectionObserver 提供了以下常见的选项：</p>
<ul>
<li>root：指定根元素，即目标元素所在的容器元素。</li>
<li>rootMargin：指定根元素的边界距离，可以是一个具有以下格式的字符串：'10px 20px 30px 40px'，分别表示上、右、下、左的边界距离。</li>
<li>threshold：指定监听的目标元素的可见性变化的阈值，可以是一个数字或一个包含多个阈值的数组。</li>
</ul>
<h3> 监听目标元素</h3>
<p>接下来，需要使用 observe() 方法来监听目标元素。</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul>
<li>target：要监听的目标元素。</li>
</ul>
<p>当目标元素出现在视口或者达到一定阈值时，就会会触发回调函数</p>
<h3> 停止监听</h3>
<p>当不需要监听目标元素时，可以使用 unobserve() 方法来停止监听。</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul>
<li>target：要停止监听的目标元素。</li>
</ul>
<h2> 图片懒加载指令</h2>
<p>Vue指令实现</p>
<div class="language-typescript line-numbers-mode" data-ext="ts"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 main.ts 中注册指令</p>
<div class="language-typescript line-numbers-mode" data-ext="ts"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> 无限滚动</h2>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> 组件懒加载</h2>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> slideIn 效果指令</h2>
<div class="language-typescript line-numbers-mode" data-ext="ts"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 main.ts 中注册指令</p>
<div class="language-typescript line-numbers-mode" data-ext="ts"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Nginx 配置</title>
      <link>https://blog.yuchen.tech/posts/nginx-conf.html</link>
      <guid>https://blog.yuchen.tech/posts/nginx-conf.html</guid>
      <source url="https://blog.yuchen.tech/rss.xml">Nginx 配置</source>
      <description>Nginx 配置 跨域 location 下添加如下配置 location / { 	#CORS 配置 	add_header &amp;apos;Access-Control-Allow-Origin&amp;apos; &amp;apos;*&amp;apos;; 	add_header &amp;apos;Access-Control-Allow-Methods&amp;apos; &amp;apos;GET, POST, OPTIONS, PUT, DELETE&amp;apos;; 	#是否允许cookie传输 	add_header &amp;apos;Access-Control-Allow-Credentials&amp;apos; &amp;apos;true&amp;apos;; 	add_header &amp;apos;Access-Control-Allow-Headers&amp;apos; 		&amp;apos;Authorization,Content-Type,Accept,Origin,User-Agent,DNT,Cache-Control,X-Mx-ReqToken,X-Data-Type,X-Requested-With,X-Data-Type,X-Auth-Token&amp;apos;; 	#针对浏览器的options预请求直接返回200，否则会被403 forbidden--invalie CORS request 	if ( $request_method = &amp;apos;OPTIONS&amp;apos; ) { 		return 200; 	} }</description>
      <category>Nginx</category>
      <pubDate>Fri, 05 Jan 2024 14:46:15 GMT</pubDate>
      <content:encoded><![CDATA[<h1> Nginx 配置</h1>
<h2> 跨域</h2>
<p>location 下添加如下配置</p>
<div class="language-nginx line-numbers-mode" data-ext="nginx"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> 带下划线的 header 丢失问题</h2>
<p>nginx 默认会忽略带下划线的请求头, 需在 http 下添加配置</p>
<div class="language-nginx line-numbers-mode" data-ext="nginx"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>取消 Promise</title>
      <link>https://blog.yuchen.tech/snippets/js/abort-promise.html</link>
      <guid>https://blog.yuchen.tech/snippets/js/abort-promise.html</guid>
      <source url="https://blog.yuchen.tech/rss.xml">取消 Promise</source>
      <description>取消 Promise fetch 和 axios 都支持使用AbortController的方式来取消请求。以 fetch 为例，想要取消请求，分为三步： const url = &amp;quot;https://blog.yuchen.tech/&amp;quot;; // 1. 创建AbortController const controller = new AbortController(); const signal = controller.signal; // 2. 发送请求时传入AbortController的signal fetch(url, { signal }) .then((response) =&amp;gt; { console.log(response); }) .catch((error) =&amp;gt; { console.log(error); }); // 3. 使用AbortController的abort方法来取消请求 controller.abort(); // Node 下输出 // DOMException [AbortError]: This operation was aborted // 浏览器下输出 // DOMException: The user aborted a request.</description>
      <category>JS</category>
      <pubDate>Sun, 03 Dec 2023 10:16:54 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 取消 Promise</h1>
<p>fetch 和 axios 都支持使用<a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController" target="_blank" rel="noopener noreferrer">AbortController</a>的方式来取消请求。以 fetch 为例，想要取消请求，分为三步：</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>原生的 promise 只有 pending、fulfilled 和 rejected 三种状态，是不支持取消的，要想像 fetch 和 axios 一样取消 promise, 需要在使用时对其做一些封装。主要的方法有以下 3 种：</p>
<h2> 借助 reject 方法</h2>
<p>一个简单的例子</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到调用 abort 方法后 promise 被终止了，为了更加通用，需要给 abortPromise 传入一个回掉函数。</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样就实现了一个最简单的取消 promise 的功能。</p>
<h2> 借助 race 方法</h2>
<p>Promise.race()的状态与最先 resolve/reject 的那个 promise 的状态相同。我们可以用它来实现一个取消 promise 的功能。</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> 借助 AbortController</h2>
<p>除了上面两种方法，还可以和 fetch 和 axios 一样使用 AbortController 来取消 promise。</p>
<p>根据 MDN 上<a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal#implementing_an_abortable_api" target="_blank" rel="noopener noreferrer">AbortSignal</a>的例子，有以下代码：</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>还可以在括号里传入 reason</p>
<div class="language-javascript line-numbers-mode" data-ext="js"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>蛇形布局</title>
      <link>https://blog.yuchen.tech/snippets/vue/snake-layout.html</link>
      <guid>https://blog.yuchen.tech/snippets/vue/snake-layout.html</guid>
      <source url="https://blog.yuchen.tech/rss.xml">蛇形布局</source>
      <description>蛇形布局 实现的效果如下图所示 查看源码 使用 flex 完成 m*n 的布局 首先使用 flex 完成一个简单的 m*n 布局 &amp;lt;template&amp;gt; &amp;lt;div class=&amp;quot;container&amp;quot;&amp;gt; &amp;lt;div class=&amp;quot;item&amp;quot; v-for=&amp;quot;(item, index) in list&amp;quot; :key=&amp;quot;index&amp;quot;&amp;gt; step{{ index + 1 }} &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/template&amp;gt; &amp;lt;script setup lang=&amp;quot;ts&amp;quot;&amp;gt; import { ref } from &amp;quot;vue&amp;quot;; const list = ref(new Array(12).fill(&amp;quot;&amp;quot;)); &amp;lt;/script&amp;gt; &amp;lt;style lang=&amp;quot;scss&amp;quot; scoped&amp;gt; $colNum: 4; // 列数 $rowDistance: 40px; // 行间距 $colDistance: 30px; // 列间距 .container { display: flex; flex-wrap: wrap; gap: $rowDistance $colDistance; .item { width: calc((100% - $colDistance * ($colNum - 1)) / $colNum); height: 30px; display: flex; align-items: center; justify-content: center; background-color: skyblue; } } &amp;lt;/style&amp;gt;</description>
      <category>Vue</category>
      <pubDate>Sun, 19 Nov 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h1> 蛇形布局</h1>
<p>实现的效果如下图所示</p>
<figure><figcaption></figcaption></figure>
<p><a href="#%E6%BA%90%E7%A0%81">查看源码</a></p>
<h2> 使用 flex 完成 m*n 的布局</h2>
<p>首先使用 flex 完成一个简单的 m*n 布局</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实现的效果如下</p>
<figure><figcaption></figcaption></figure>
<h2> 调整偶数行顺序</h2>
<p>对比我们想要的效果发现第二行的顺序是反的，5678 应改为 8765。</p>
<div class="language-text line-numbers-mode" data-ext="text"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 flex 中，可以通过 order 来控制元素的排列顺序，order 的值越小，排列越靠前，默认为 0。</p>
<p>首先需要设置一个变量<code>--index</code>，值使用当前元素的下标。</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后使用<code>--index</code>来初始化每个元素的 order 属性，这时元素顺序并没有改变。</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，我们只需要修改偶数行的 order 值就能改变元素的顺序，以每行 4 列为例，偶数行就是 8n+5, 8n+6, 8n+7, 8n+8。所以每行 colNum 个时，偶数行就是<code>(2*colNum)n + colNum +1</code>,<code>(2*colNum)n + colNum +2</code>,<code>(2*colNum)n + colNum +3</code>,<code>(2*colNum)n + colNum +4</code></p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后我们只需要确定偶数行的 order 值就可以了。还是以每行 4 个为例，5678 的 order 值分别要+3，+1，-1，-3，如下图所示。</p>
<figure><figcaption></figcaption></figure>
<p>每行 5 个时，678910 的 order 值分别要+4，+2，0, -2，-4，如下图所示。</p>
<figure><figcaption></figcaption></figure>
<p>当推广到每行 colNum 个时，我们需要将 order, colNum, index, i 这几个变量关联起来，如下表所示，不难看出<code>order = index + colNum - 2 * i + 1</code>。</p>
<table>
<thead>
<tr>
<th style="text-align:center">colNum</th>
<th style="text-align:center">i</th>
<th style="text-align:center">index</th>
<th style="text-align:center">order</th>
<th style="text-align:center">-</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">1</td>
<td style="text-align:center">5</td>
<td style="text-align:center">8</td>
<td style="text-align:center">8 = 5 + 4 - 2 * 1 + 1</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">2</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center">7 = 6 + 4 - 2 * 2 + 1</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">3</td>
<td style="text-align:center">7</td>
<td style="text-align:center">6</td>
<td style="text-align:center">6 = 7 + 4 - 2 * 3 + 1</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
<td style="text-align:center">8</td>
<td style="text-align:center">5</td>
<td style="text-align:center">5 = 8 + 4 - 2 * 4 + 1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">1</td>
<td style="text-align:center">6</td>
<td style="text-align:center">10</td>
<td style="text-align:center">10 = 6 + 5 - 2 * 1 + 1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">2</td>
<td style="text-align:center">7</td>
<td style="text-align:center">9</td>
<td style="text-align:center">9 = 7 + 5 - 2 * 2 + 1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">3</td>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
<td style="text-align:center">8 = 8 + 5 - 2 * 3 + 1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">4</td>
<td style="text-align:center">9</td>
<td style="text-align:center">7</td>
<td style="text-align:center">7 = 9 + 5 - 2 * 4 + 1</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">5</td>
<td style="text-align:center">10</td>
<td style="text-align:center">6</td>
<td style="text-align:center">6 = 10 + 5 - 2 * 5 + 1</td>
</tr>
</tbody>
</table>
<p>代码如下：</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下：</p>
<figure><figcaption></figcaption></figure>
<h2> 添加箭头</h2>
<h3> item 间添加箭头</h3>
<p>最后我们需要在元素之间添加箭头，这里我采用伪元素来实现。</p>
<p>首先为 item 添加相对定位，然后为 item 添加 before，after 伪元素，使用绝对定位确定箭头的位置。</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br><br><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下：</p>
<figure><figcaption></figcaption></figure>
<h3> 隐藏行末的箭头</h3>
<p>这里需要注意一下，因为偶数行顺序被我们改变了，所以行末的应该是 4，5，12，而不是 4，8，12，即选择器应该为<code>#{2 * $colNum}n + #{$colNum}</code>和<code>#{2 * $colNum}n + #{$colNum + 1}</code>，而不是<code>#{$colNum}n</code>。</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下：</p>
<figure><figcaption></figcaption></figure>
<h3> 偶数行箭头反向</h3>
<p>我们只需要讲箭头旋转 180 度，然后向左移动 lineWidth 的长度减去自身一半的长度即可。</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="highlight-lines"><br><br><br><br><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下：</p>
<figure><figcaption></figcaption></figure>
<h3> 添加向下的箭头</h3>
<p>每一行的末尾应该添加一个向下的箭头，这里的行末指的是 4，8，12。但是有的 before 和 after 已经被使用，比如 step8 的 before 和 after 已经被用于 7 到 8 之间的箭头，所以需要在 item 里面再套一层 div。</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlight-line">&nbsp;</div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后添加相对定位(不加也行)。</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后使用 content 的伪元素添加箭头。</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最终效果如图所示</p>
<figure><figcaption></figcaption></figure>
<h3> 隐藏最后一个元素的箭头</h3>
<p>看着效果是实现了，但是当我们将 colNum 设置为 5 时，发现最后一个元素的箭头没有被隐藏。</p>
<figure><figcaption></figcaption></figure>
<p>心想着无非是隐藏最后一个元素的箭头，于是便有了下面这段代码</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<p>12 后面的箭头消失了，这不小菜一碟。但是当我将元素个数设置为 9 时，又双叒叕出问题了，89 之间箭头被刚刚的代码给隐藏了，同时还出现了新的 bug，6789 的位置出现了偏移。</p>
<figure><figcaption></figcaption></figure>
<p>先解决箭头被隐藏的问题，发现当最后一个元素出现在偶数行时不用再去隐藏箭头，因为偶数行的顺序是反的，实际上最后一个元素应该是最右边的那一个，我们在<a href="#%E9%9A%90%E8%97%8F%E8%A1%8C%E6%9C%AB%E7%9A%84%E7%AE%AD%E5%A4%B4">隐藏行末的箭头</a>中已经隐藏了，所以我们只需处理最后一个元素在奇数行的情况。</p>
<p>要判断最后一个元素是奇数行还是偶数行，我们可以根据 index 来进行判断。</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>想法很美好，但是他报错啦！！！</p>
<figure><figcaption></figcaption></figure>
<p>于是我删掉了 calc，<code>$modNum: var(--index) % (2 * $colNum);</code>，一保存它又报错啦！！！</p>
<figure><figcaption></figcaption></figure>
<p>SCSS 是一个 CSS 预处理器，最终会被编译成 CSS，SCSS 在编译时并不知道 CSS 变量的值，<strong>当表达式中使用 CSS 变量进行原生 CSS 不支持的运算时就会出错</strong>。</p>
<blockquote>
<p>在高版本的 Firefox 和 Safari 中已经支持了<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/mod" target="_blank" rel="noopener noreferrer">mod 运算</a></p>
</blockquote>
<p>所以说还是 JS 大法好，直接通过 JS 判断添加类名来隐藏箭头。</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">&nbsp;</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后添加样式，最后一个元素出现在奇数行时隐藏箭头</p>
<div class="language-scss line-numbers-mode" data-ext="scss"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下：</p>
<figure><figcaption></figcaption></figure>
<h3> 偶数行结尾位置偏移问题</h3>
<p>这个问题比较好解决，我们只需要通过修改 flex 的 justify-content 属性即可，当偶数行结尾时设置为 flex-end，判断是否是偶数行结尾时需要取模运算，所以还是使用 JS 来判断。</p>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="highlight-lines"><br><br><br><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下：</p>
<figure><figcaption></figcaption></figure>
<h2> 总结</h2>
<ul>
<li>一开始我是准备全用css来实现的，但是后面出现一些bug还是不得不用js，如果一开始就考虑使用js，应该更容易实现</li>
<li>缺点
<ul>
<li>colNum在css和js中都有，在使用的时候需要注意保持一致</li>
<li>scss变量无法使用媒体查询，如果想要响应式布局，还需要js重写代码</li>
</ul>
</li>
</ul>
<h2> 参考文章</h2>
<ul>
<li><a href="https://www.devbbq.cn/blog/details/1692001109139" target="_blank" rel="noopener noreferrer">CSS 如何使用flex实现灵活的“蛇形布局”</a></li>
<li><a href="https://juejin.cn/post/7234061982579572793" target="_blank" rel="noopener noreferrer">纯CSS实现蛇形流程图/步骤条</a></li>
</ul>
<h2> 源码</h2>
<div class="language-vue line-numbers-mode" data-ext="vue"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>Git 指南</title>
      <link>https://blog.yuchen.tech/posts/git.html</link>
      <guid>https://blog.yuchen.tech/posts/git.html</guid>
      <source url="https://blog.yuchen.tech/rss.xml">Git 指南</source>
      <description>Git 指南 官方文档 安装 windows 版本 Linux/Unix 版本</description>
      <category>Git</category>
      <pubDate>Tue, 31 Oct 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h1> Git 指南</h1>
<blockquote>
<p><a href="http://git-scm.com/docs" target="_blank" rel="noopener noreferrer">官方文档</a></p>
</blockquote>
<h2> 安装</h2>
<p><a href="https://git-scm.com/download/win" target="_blank" rel="noopener noreferrer">windows 版本</a></p>
<p><a href="https://git-scm.com/download/linux" target="_blank" rel="noopener noreferrer">Linux/Unix 版本</a></p>
<p><a href="https://git-scm.com/download/mac" target="_blank" rel="noopener noreferrer">Mac OS 版本</a></p>
<h2> Git 常用命令</h2>
<h3> 生成 SSH Key</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>生成时会要求确认路径和输入密码</p>
<p>key 默认会保存在 ~/.ssh/id_rsa.pub 里</p>
<h3> git init/clone</h3>
<p><code>git init</code> 初始化仓库，<code>git clone</code>克隆仓库</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git config</h3>
<p>更改配置</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果添加了 <code>--global</code> 参数就是全局配置，如果想要在某个项目下使用其他的用户名或邮件， 去掉 <code>--global</code> 参数重新配置即可</p>
<h3> git add</h3>
<p>将工作区文件添加到暂存区</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git commit</h3>
<p>将暂存区的文件添加到本地仓库</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git push</h3>
<p>将本地的仓库分支上传到远程仓库并合并</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果本地版本和远程版本有差异，可以使用<code>--force</code> 强制推送</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3> git pull</h3>
<p>下载远程代码并合并到本地版本</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git remote</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git branch</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git merge</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git rebase</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>git rebase</code> 会更改提交历史记录，确保仅在本地使用，永远不要在公共分支上使用 rebase</p>
<h3> git tag</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> git log</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2> 撤销操作</h2>
<h3> 撤销 add</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> 撤销 commit</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>还可以根据 commitId 返回到特定的版本</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3> 删除远程文件或文件夹</h3>
<p>预览文件，检查文件是否存在(不会删除源文件)</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>确定删除文件(不会删除本地的文件，只是从 git 仓库中移出文件)</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>提交到本地并推送到远程服务器</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>snippets</title>
      <link>https://blog.yuchen.tech/snippets/</link>
      <guid>https://blog.yuchen.tech/snippets/</guid>
      <source url="https://blog.yuchen.tech/rss.xml">snippets</source>
      <description>snippets 存放一些自用的代码片段，方便复制粘贴</description>
      <category>Snippets</category>
      <pubDate>Tue, 24 Oct 2023 16:19:23 GMT</pubDate>
      <content:encoded><![CDATA[<h1> snippets</h1>
<p>存放一些自用的代码片段，方便复制粘贴</p>
]]></content:encoded>
    </item>
  </channel>
</rss>